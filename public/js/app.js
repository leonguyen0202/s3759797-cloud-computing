!function(e){var a={};function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)t.d(n,r,function(a){return e[a]}.bind(null,r));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=0)}([function(e,a,t){t(1),e.exports=t(2)},function(e,a){var t;function n(e){$(".customAlert").show(),$(".customAlert").append("<div class='alert alert-danger alert-dismissible fade show' id='errorAlert' role='alert'><strong>"+e+"</strong><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>"),$(".alert-danger").fadeTo(2e3,1e3).slideUp(1e3,(function(){$(".customAlert").empty(),$(".alert-danger").slideUp(1e3)}))}function r(e){$.each(e.errors,(function(e,a){$(".customAlert").show(),$(".customAlert").append("<div class='alert alert-danger alert-dismissible fade show' id='errorAlert' role='alert'><strong>"+a+"</strong><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>")})),$(".alert-danger").fadeTo(2e3,1e3).slideUp(1e3,(function(){$(".customAlert").empty(),$(".alert-danger").slideUp(1e3)}))}function o(e){Swal.fire({type:"error",title:e,showConfirmButton:!1,timer:1500})}function s(e,a){return 0===e.status?o("Not connected.\nPlease verify your network connection."):404==e.status?o("The requested page not found."):401==e.status?o("Sorry!! You session has expired. Please login to continue access."):500==e.status?o("Internal Server Error."):o("parsererror"===a?"Requested JSON parse failed.":"timeout"===a?"Time out error.":"abort"===a?"Ajax request aborted.":"Unknown error occured. Please try again.")}function l(e,a,t,n,r,o){""!=e?$("#"+e).click((function(e){e.preventDefault(),$("#"+a).text(t),$("#"+n).text(r),$("#action").val(o)})):($("#"+a).text(t),$("#"+n).text(r),$("#action").val(o))}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),t="employeeModal",$("."+t).on("hidden.bs.modal",(function(){"employeeModal"==t&&($("input[name=first_name]").val(""),$("input[name=last_name]").val(""),$("input[name=age]").val(""),$("input[name=gender]").prop("checked",!1))})),$(document).ready((function(){$("#big-query").DataTable({processing:!0,serverSide:!0,ajax:"/dashboard/big-query/dataTables",pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],columns:[{data:"name",name:"name"},{data:"gender",name:"gender"},{data:"frequency",name:"frequency"},{data:"year",name:"year"},{data:"action",className:"text-center",orderable:!1,searchable:!1}],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"}}),$("#employees").DataTable({processing:!0,serverSide:!0,ajax:"/dashboard/employee/dataTables",pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],columns:[{data:"first_name",name:"first_name"},{data:"last_name",name:"last_name",searchable:!1},{data:"gender",name:"gender",searchable:!1},{data:"age",name:"age",searchable:!1},{data:"address",name:"address",searchable:!1},{data:"action",className:"text-center",orderable:!1,searchable:!1}],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"}}),$("#employees-frequency").DataTable({processing:!0,serverSide:!0,ajax:"/dashboard/employee/frequency/dataTables",pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],columns:[{data:"first_name",name:"first_name"},{data:"first_name_frequency",name:"first_name_frequency"},{data:"last_name",name:"last_name"},{data:"last_name_frequency",name:"last_name_frequency"},{data:"gender",name:"gender"},{data:"age",name:"age"},{data:"updated_at",name:"updated_at"}],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"}}),l("employeeTableBtnAdd","employeeModalLabel","Add new employee","employeeModalButton","Add new","Add"),$("#employeeModalButton").click((function(e){if(e.preventDefault(),"Add"==$("#action").val()){var a,t=document.getElementById("first_name").value,o=document.getElementById("last_name").value,l=document.getElementById("age").value,i=$("input[name=gender]:checked").val(),d=document.getElementById("phone_number").value,u=document.getElementById("address").value;$.ajax({url:"/dashboard/employee",method:"POST",data:{first_name:t,last_name:o,age:l,gender:i,phone_number:d,address:u},beforeSend:function(){Swal.fire({title:"Sending....",html:'<span class="text-success">Waiting for data to be sent</span>',timer:1e5,onBeforeOpen:function(){Swal.showLoading(),a=setInterval((function(){Swal.getTimerLeft()}),100)}})},success:function(e){Swal.disableLoading(),e.errors?(Swal.close(),r(e)):e.message?(Swal.close(),n(e.message)):($(".employeeModal").hide(),Swal.close(),clearInterval(a),Swal.fire({type:"success",title:"Success!",html:'<span class="text-success">Your page will be refreshed shortly.</span>',showConfirmButton:!1,timer:1e3}),window.setTimeout((function(){location.reload()}),1e3))},error:function(e,a,t){s(e,t)}})}if("Edit"==$("#action").val()){var c,m=document.getElementById("id").value;t=document.getElementById("first_name").value,o=document.getElementById("last_name").value,l=document.getElementById("age").value,i=$("input[name=gender]:checked").val(),d=document.getElementById("phone_number").value,u=document.getElementById("address").value;$.ajax({url:"/dashboard/employee/update",method:"PUT",data:{id:m,first_name:t,last_name:o,age:l,gender:i,phone_number:d,address:u},beforeSend:function(){Swal.fire({title:"Sending....",html:'<span class="text-success">Waiting for data to be sent</span>',timer:1e5,onBeforeOpen:function(){Swal.showLoading(),c=setInterval((function(){Swal.getTimerLeft()}),100)}})},success:function(e){Swal.disableLoading(),e.errors?(Swal.close(),r(e)):e.message?(Swal.close(),n(e.message)):($(".employeeModal").hide(),Swal.close(),clearInterval(c),Swal.fire({type:"success",title:"Success!",html:'<span class="text-success">Your page will be refreshed shortly.</span>',showConfirmButton:!1,timer:1e3}),window.setTimeout((function(){location.reload()}),1e3))},error:function(e,a,t){s(e,t)}})}}))})),$(document).on("click",".employeeEdit",(function(e){e.preventDefault();var a,t=$(this).parent(".employeeParent"),n=$(t).find(".id").val();$.ajax({url:"/dashboard/employee/edit",method:"GET",dataType:"JSON",data:{id:n},beforeSend:function(){Swal.fire({title:"Sending....",html:'<span class="text-success">Waiting for data to be sent</span>',showConfirmButton:!1,timer:1e5,onBeforeOpen:function(){Swal.showLoading(),a=setInterval((function(){Swal.getTimerLeft()}),100)}})},success:function(e){Swal.disableLoading(),l("","employeeModalLabel","Updating Employee","employeeModalButton","Update","Edit"),$("#id").val(n),$.each(e,(function(e,t){$("input[value='"+t.gender+"']").prop("checked",!0),$("input[name=first_name]").val(t.first_name),$("input[name=last_name]").val(t.last_name),$("input[name=age]").val(t.age),$("input[name=address]").val(t.address),$("input[name=phone_number]").val(t.phone_number),Swal.close(),$(".employeeModal").modal("show"),clearInterval(a)}))},error:function(e,a,t){s(e,t)}})})),$(document).on("click",".employeeRemove",(function(e){e.preventDefault();var a=$(this).parent(".employeeParent"),t=$(a).find(".id").val();Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value?$.ajax({url:"/dashboard/employee/destroy",method:"DELETE",data:{id:t,_token:$("input[name=_token]").val()},beforeSend:function(){Swal.fire({title:"Sending....",html:'<span class="text-success">Waiting for data to be sent</span>',timer:1e5,onBeforeOpen:function(){Swal.showLoading()}})},success:function(e){Swal.disableLoading(),e.message?Swal.fire({type:"error",title:"Oops!!!",html:'<span class="text-danger">'+e.message+"</span>",showConfirmButton:!1,timer:1e3}):(Swal.fire({type:"success",title:"Successfully delete data!",html:'<span class="text-success">Your page will be refreshed shortly.</span>',showConfirmButton:!1,timer:1e3}),window.setTimeout((function(){location.reload()}),1e3))},error:function(e,a,t){s(e,t)}}):e.dismiss===Swal.DismissReason.cancel&&Swal.fire({type:"info",title:"Your data is safe!",showConfirmButton:!1,timer:1500})}))}))},function(e,a){}]);